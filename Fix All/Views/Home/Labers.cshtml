@model List<Fix_All.Models.approve_laber>

@{
    ViewData["Title"] = "Labors";
    int selectedId = ViewBag.SelectedFieldId; // ✅ Controller से आया हुआ selected id
}

<form method="get" asp-action="Labers" class="mb-3">
    <select name="fieldId" class="form-control" onchange="this.form.submit()">
        <option value="0">-- All Categories --</option>
        @foreach (var field in ViewBag.Fields)
        {
            if (selectedId == field.FieldId)
            {
                <option value="@field.FieldId" selected="selected">@field.FieldName</option>
            }
            else
            {
                <option value="@field.FieldId">@field.FieldName</option>
            }
        }
    </select>
</form>

<div class="row">
    @foreach (var labor in Model)
    {
        @await Html.PartialAsync("_LaborProfileCard", labor)
    }
</div>
